{"version":3,"sources":["../../src/utils/logger.js"],"names":["PrefixedLogger","constructor","logger","prefix","chalk","cyan","enable","log","args","warn","trace","error","Logger","instance","enabled","getTime","inverse","Date","toLocaleTimeString","console","red"],"mappings":";;;;;;AACA;;;;;;AAEA,MAAMA,cAAN,CAAqB;AACnBC,cAAYC,MAAZ,EAAoBC,MAApB,EAA4B;AAC1B,SAAKD,MAAL,GAAcA,MAAd;AACA,SAAKC,MAAL,GAAcC,gBAAMC,IAAN,CAAY,GAAEF,MAAO,GAArB,CAAd;AACD;;AAEDG,WAAS;AACP,SAAKJ,MAAL,CAAYI,MAAZ;AACD;;AAEDC,MAAI,GAAGC,IAAP,EAAa;AACX,SAAKN,MAAL,CAAYK,GAAZ,CAAgB,KAAKJ,MAArB,EAA6B,GAAGK,IAAhC;AACD;;AAEDC,OAAK,GAAGD,IAAR,EAAc;AACZ,SAAKN,MAAL,CAAYO,IAAZ,CAAiB,KAAKN,MAAtB,EAA8B,GAAGK,IAAjC;AACD;;AAEDE,QAAM,GAAGF,IAAT,EAAe;AACb,SAAKN,MAAL,CAAYQ,KAAZ,CAAkB,KAAKP,MAAvB,EAA+B,GAAGK,IAAlC;AACD;;AAEDG,QAAM,GAAGH,IAAT,EAAe;AACb,SAAKN,MAAL,CAAYS,KAAZ,CAAkB,KAAKR,MAAvB,EAA+B,GAAGK,IAAlC;AACD;AAxBkB,C,CAHrB;;;AA8BA,MAAMI,MAAN,CAAa;AACXX,gBAAc;AACZ,QAAI,CAACW,OAAOC,QAAZ,EAAsB;AACpBD,aAAOC,QAAP,GAAkB,IAAlB;AACA,WAAKC,OAAL,GAAe,KAAf;AACD;AACD,WAAOF,OAAOC,QAAd;AACD;;AAEDV,SAAOA,MAAP,EAAe;AACb,WAAO,IAAIH,cAAJ,CAAmB,IAAnB,EAAyBG,MAAzB,CAAP;AACD;;AAEDG,WAAS;AACP,SAAKQ,OAAL,GAAe,IAAf;AACD;;AAED,SAAOC,OAAP,GAAiB;AACf,WAAOX,gBAAMY,OAAN,CAAc,IAAIC,IAAJ,GAAWC,kBAAX,EAAd,CAAP;AACD;;AAEDX,MAAI,GAAGC,IAAP,EAAa;AACX,QAAI,KAAKM,OAAT,EAAkB;AAChBK,cAAQZ,GAAR,CAAYK,OAAOG,OAAP,EAAZ,EAA8B,GAAGP,IAAjC;AACD;AACF;;AAEDC,OAAK,GAAGD,IAAR,EAAc;AACZ,QAAI,KAAKM,OAAT,EAAkB;AAChBK,cAAQV,IAAR,CAAaG,OAAOG,OAAP,EAAb,EAA+B,GAAGP,IAAlC;AACD;AACF;;AAEDE,QAAM,GAAGF,IAAT,EAAe;AACb,QAAI,KAAKM,OAAT,EAAkB;AAChBK,cAAQT,KAAR,CAAcE,OAAOG,OAAP,EAAd,EAAgC,GAAGP,IAAnC;AACD;AACF;;AAEDG,QAAM,GAAGH,IAAT,EAAe;AACb,QAAI,KAAKM,OAAT,EAAkB;AAChBK,cAAQR,KAAR,CAAcC,OAAOG,OAAP,EAAd,EAAgCX,gBAAMgB,GAAN,CAAU,GAAGZ,IAAb,CAAhC;AACD;AACF;AA3CU;;AA8Cb,MAAMK,WAAW,IAAID,MAAJ,EAAjB;;kBAEeC,Q","file":"logger.js","sourcesContent":["/* eslint-disable no-console */\nimport chalk from 'chalk';\n\nclass PrefixedLogger {\n  constructor(logger, prefix) {\n    this.logger = logger;\n    this.prefix = chalk.cyan(`${prefix}:`);\n  }\n\n  enable() {\n    this.logger.enable();\n  }\n\n  log(...args) {\n    this.logger.log(this.prefix, ...args);\n  }\n\n  warn(...args) {\n    this.logger.warn(this.prefix, ...args);\n  }\n\n  trace(...args) {\n    this.logger.trace(this.prefix, ...args);\n  }\n\n  error(...args) {\n    this.logger.error(this.prefix, ...args);\n  }\n}\n\nclass Logger {\n  constructor() {\n    if (!Logger.instance) {\n      Logger.instance = this;\n      this.enabled = false;\n    }\n    return Logger.instance;\n  }\n\n  prefix(prefix) {\n    return new PrefixedLogger(this, prefix);\n  }\n\n  enable() {\n    this.enabled = true;\n  }\n\n  static getTime() {\n    return chalk.inverse(new Date().toLocaleTimeString());\n  }\n\n  log(...args) {\n    if (this.enabled) {\n      console.log(Logger.getTime(), ...args);\n    }\n  }\n\n  warn(...args) {\n    if (this.enabled) {\n      console.warn(Logger.getTime(), ...args);\n    }\n  }\n\n  trace(...args) {\n    if (this.enabled) {\n      console.trace(Logger.getTime(), ...args);\n    }\n  }\n\n  error(...args) {\n    if (this.enabled) {\n      console.error(Logger.getTime(), chalk.red(...args));\n    }\n  }\n}\n\nconst instance = new Logger();\n\nexport default instance;\n"]}